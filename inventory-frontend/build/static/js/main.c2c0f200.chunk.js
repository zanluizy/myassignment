(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t,a){e.exports=a(480)},258:function(e,t,a){},263:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(238),c=a.n(r),o=(a(258),a(33)),u=a(3),m=a(484);var s=e=>{let{onLogout:t}=e;const[a,r]=Object(n.useState)([]),[c,s]=Object(n.useState)({name:"",description:"",category:"",price:0,quantity:0}),i=Object(u.q)();Object(n.useEffect)(()=>{d()},[]);const d=()=>{m.a.get("http://localhost:5000/products").then(e=>r(e.data)).catch(e=>console.error(e))};return l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("ul",{id:"sidebar"},l.a.createElement("li",null,l.a.createElement(o.b,{to:"/register"},"Register")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/Login"},"Login")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/Dashboard"},"Dashboard")))),l.a.createElement("h1",null,"Product Management"),l.a.createElement("button",{onClick:()=>{t(),i("/login")},style:{marginBottom:"20px",padding:"10px 20px"}},"Logout"),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),m.a.post("http://localhost:5000/products",c).then(e=>{r([...a,e.data]),s({name:"",description:"",category:"",price:0,quantity:0})}).catch(e=>console.error(e))}},l.a.createElement("input",{placeholder:"Name",value:c.name,onChange:e=>s({...c,name:e.target.value})}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("textarea",{placeholder:"Description",value:c.description,onChange:e=>s({...c,description:e.target.value})}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{placeholder:"Category",value:c.category,onChange:e=>s({...c,category:e.target.value})}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"Price",value:c.price,onChange:e=>s({...c,price:parseFloat(e.target.value)})}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"number",placeholder:"Quantity",value:c.quantity,onChange:e=>s({...c,quantity:parseInt(e.target.value)})}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Add Product")),l.a.createElement("ul",null,a.map(e=>l.a.createElement("li",{key:e.id},e.name," - ",e.quantity,l.a.createElement("button",{onClick:()=>(e=>{m.a.delete(`http://localhost:5000/products/${e}`).then(()=>r(a.filter(t=>t.id!==e))).catch(e=>console.error(e))})(e.id)},"Delete")))))};var i=()=>{const[e,t]=Object(n.useState)({username:"",password:"",role:""}),a=Object(u.q)(),r=a=>{const{name:n,value:l}=a.target;t({...e,[n]:l})};return l.a.createElement("div",null,l.a.createElement("h1",{id:"reg"},"Register"),l.a.createElement("form",{onSubmit:n=>{n.preventDefault(),m.a.post("http://localhost:5000/users",e).then(e=>{alert(e.data.message),t({username:"",password:"",role:""}),a("/login")}).catch(e=>{console.error(e),alert("Error registering user.")})}},l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:e.username,onChange:r,required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:r,required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"role",placeholder:"Role",value:e.role,onChange:r,required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"submit"},"Register")))};var d=e=>{let{onLogin:t}=e;const[a,r]=Object(n.useState)({username:"",password:""}),[c,s]=Object(n.useState)(""),[i,d]=Object(n.useState)(!1),E=Object(u.q)(),p=e=>{const{name:t,value:n}=e.target;r({...a,[t]:n})};return l.a.createElement("div",null,l.a.createElement("h1",{id:"wel"},"Welcome to Wings Cafe Login To Continue"),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),s(""),d(!0);try{const e=await m.a.post("http://localhost:5000/login",a);alert(e.data.message),t(),r({username:"",password:""}),E("/product-management")}catch(c){var n,l;console.error(c),s((null===(n=c.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.message)||"Error logging in.")}finally{d(!1)}}},l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:a.username,onChange:p,required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:p,required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),c&&l.a.createElement("p",{style:{color:"red"}},c),l.a.createElement("button",{type:"submit",disabled:i},i?"Logging in...":"Login")),l.a.createElement("br",null),l.a.createElement("p",{id:"regi"},"Don't have an account?"," ",l.a.createElement(o.b,{to:"/register",style:{color:"blue",textDecoration:"underline"}},"Register here")))},E=(a(263),a(483)),p=a(485),g=a(249),h=a(250),b=a(48),v=a(62),y=a(99);var f=()=>{const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)([]);Object(n.useEffect)(()=>{c()},[]);const c=async()=>{try{const a=await m.a.get("http://localhost:5000/products");t(a.data);const n=[...new Set(a.data.map(e=>e.category))];r(n)}catch(e){console.error("Error fetching products:",e)}};return l.a.createElement("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"}},l.a.createElement("h1",null,"Product Dashboard"),l.a.createElement("div",{style:{marginBottom:"20px"}},l.a.createElement("h2",null,"Key Metrics"),l.a.createElement("p",null,l.a.createElement("strong",null,"Total Products:")," ",e.length),l.a.createElement("p",null,l.a.createElement("strong",null,"Total Categories:")," ",a.length)),l.a.createElement("div",{style:{width:"100%",height:400}},l.a.createElement("h2",{id:"pq"},"Product Quantities"),l.a.createElement(E.a,null,l.a.createElement(p.a,{data:e},l.a.createElement(g.a,{dataKey:"name"}),l.a.createElement(h.a,null),l.a.createElement(b.a,null),l.a.createElement(v.a,null),l.a.createElement(y.a,{dataKey:"quantity",fill:"#8884d8"})))))};a(479);var w=()=>{const[e,t]=Object(n.useState)(!1);return l.a.createElement(o.a,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{path:"/register",element:l.a.createElement(i,null)}),l.a.createElement(u.b,{path:"/dashboard",element:l.a.createElement(f,null)}),l.a.createElement(u.b,{path:"/login",element:l.a.createElement(d,{onLogin:()=>t(!0)})}),l.a.createElement(u.b,{path:"/product-management",element:e?l.a.createElement(s,{onLogout:()=>t(!1)}):l.a.createElement(u.a,{to:"/login"})}),l.a.createElement(u.b,{path:"*",element:l.a.createElement(u.a,{to:"/login"})})))};var C=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,486)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(w,null))),C()}},[[252,1,2]]]);
//# sourceMappingURL=main.c2c0f200.chunk.js.map